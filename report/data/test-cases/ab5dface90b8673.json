{
  "uid" : "ab5dface90b8673",
  "name" : "错误密码登录",
  "fullName" : "test_case.test_case.TestCase#test_excel",
  "historyId" : "c95b63e950ed49888278c86b381f95e8",
  "time" : {
    "start" : 1609404464032,
    "stop" : 1609404464043,
    "duration" : 11
  },
  "status" : "broken",
  "statusMessage" : "TypeError: render_body() takes 1 positional argument but 2 were given",
  "statusTrace" : "self = <test_case.test_case.TestCase object at 0x0000026256AAD580>\ncase = {'case_controller': '/admin/login', 'case_desc': '', 'case_fun': '用户登录', 'case_moudle': '登录模块', ...}\n\n    @pytest.mark.parametrize('case', TestCaseData.getExcelCases())\n    def test_excel(self, case):\n        \"\"\"\n        执行测试用例\n        :return:\n        \"\"\"\n        print('开始用例测试', case)\n        # 请求方式\n        pattern = case.get('pattern')\n    \n        # 设置用例名称\n        allure.dynamic.feature(case.get('case_moudle'))\n        allure.dynamic.story(case.get('case_fun'))\n        allure.dynamic.title(case.get('case_name'))\n        allure.dynamic.description(case.get('case_desc'))\n    \n        url = self.buildUrl(case)\n    \n>       headers = self.buildHeaders(case)\n\ntest_case\\test_case.py:55: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntest_case\\test_case.py:87: in buildHeaders\n    return json.loads(self.replace(headers)) if headers else {}\ntest_case\\test_case.py:26: in replace\n    return t.render(self._enriment)\nD:\\python3.9\\lib\\site-packages\\mako\\template.py:476: in render\n    return runtime._render(self, self.callable_, args, data)\nD:\\python3.9\\lib\\site-packages\\mako\\runtime.py:878: in _render\n    _render_context(\nD:\\python3.9\\lib\\site-packages\\mako\\runtime.py:920: in _render_context\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncallable_ = <function render_body at 0x0000026256A520D0>\ncontext = <mako.runtime.Context object at 0x0000026255BB86D0>, args = ({},)\nkwargs = {}\n\n    def _exec_template(callable_, context, args=None, kwargs=None):\n        \"\"\"execute a rendering callable given the callable, a\n        Context, and optional explicit arguments\n    \n        the contextual Template will be located if it exists, and\n        the error handling options specified on that Template will\n        be interpreted here.\n        \"\"\"\n        template = context._with_template\n        if template is not None and (\n            template.format_exceptions or template.error_handler\n        ):\n            try:\n                callable_(context, *args, **kwargs)\n            except Exception:\n                _render_error(template, context, compat.exception_as())\n            except:\n                e = sys.exc_info()[0]\n                _render_error(template, context, e)\n        else:\n>           callable_(context, *args, **kwargs)\nE           TypeError: render_body() takes 1 positional argument but 2 were given\n\nD:\\python3.9\\lib\\site-packages\\mako\\runtime.py:947: TypeError",
  "flaky" : false,
  "newFailed" : false,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "broken",
    "statusMessage" : "TypeError: render_body() takes 1 positional argument but 2 were given",
    "statusTrace" : "self = <test_case.test_case.TestCase object at 0x0000026256AAD580>\ncase = {'case_controller': '/admin/login', 'case_desc': '', 'case_fun': '用户登录', 'case_moudle': '登录模块', ...}\n\n    @pytest.mark.parametrize('case', TestCaseData.getExcelCases())\n    def test_excel(self, case):\n        \"\"\"\n        执行测试用例\n        :return:\n        \"\"\"\n        print('开始用例测试', case)\n        # 请求方式\n        pattern = case.get('pattern')\n    \n        # 设置用例名称\n        allure.dynamic.feature(case.get('case_moudle'))\n        allure.dynamic.story(case.get('case_fun'))\n        allure.dynamic.title(case.get('case_name'))\n        allure.dynamic.description(case.get('case_desc'))\n    \n        url = self.buildUrl(case)\n    \n>       headers = self.buildHeaders(case)\n\ntest_case\\test_case.py:55: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntest_case\\test_case.py:87: in buildHeaders\n    return json.loads(self.replace(headers)) if headers else {}\ntest_case\\test_case.py:26: in replace\n    return t.render(self._enriment)\nD:\\python3.9\\lib\\site-packages\\mako\\template.py:476: in render\n    return runtime._render(self, self.callable_, args, data)\nD:\\python3.9\\lib\\site-packages\\mako\\runtime.py:878: in _render\n    _render_context(\nD:\\python3.9\\lib\\site-packages\\mako\\runtime.py:920: in _render_context\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncallable_ = <function render_body at 0x0000026256A520D0>\ncontext = <mako.runtime.Context object at 0x0000026255BB86D0>, args = ({},)\nkwargs = {}\n\n    def _exec_template(callable_, context, args=None, kwargs=None):\n        \"\"\"execute a rendering callable given the callable, a\n        Context, and optional explicit arguments\n    \n        the contextual Template will be located if it exists, and\n        the error handling options specified on that Template will\n        be interpreted here.\n        \"\"\"\n        template = context._with_template\n        if template is not None and (\n            template.format_exceptions or template.error_handler\n        ):\n            try:\n                callable_(context, *args, **kwargs)\n            except Exception:\n                _render_error(template, context, compat.exception_as())\n            except:\n                e = sys.exc_info()[0]\n                _render_error(template, context, e)\n        else:\n>           callable_(context, *args, **kwargs)\nE           TypeError: render_body() takes 1 positional argument but 2 were given\n\nD:\\python3.9\\lib\\site-packages\\mako\\runtime.py:947: TypeError",
    "steps" : [ {
      "name" : "构建请求路径",
      "time" : {
        "start" : 1609404464035,
        "stop" : 1609404464035,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "case",
        "value" : "{'case_number': 'T002', 'case_moudle': '登录模块', 'case_fun': '用户登录', 'case_name': '错误密码登录', 'case_desc': '', 'case_url': 'http://admin-api.macrozheng.com', 'case_controller': '/admin/login', 'pattern': 'POST', 'headers': '{\\n\"Content-Type\":\"application/json\"\\n        }', 'param': '{\\n            \"username\": \"admin\",\\n            \"password\": \"macro12311\"\\n        }', 'result': 'message', 'expect': '密码不正确', 'trust_result': '{\"code\":200,\"message\":\"操作成功\",\"data\":{\"tokenHead\":\"Bearer \",\"token\":\"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImNyZWF0ZWQiOjE2MDkzNzY2MzEwMDUsImV4cCI6MTYwOTk4MTQzMX0.5vVhI9KN6D16wbr_uA0NiucCj-Rf9Kc0x174aiGF9rKr4uBCxXjUDRVQls4AQoVE153ChpfIRLNXLOAx0H-fuA\"}}', 'floor': ''}"
      } ],
      "hasContent" : true,
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false
    }, {
      "name" : "构建请求头",
      "time" : {
        "start" : 1609404464036,
        "stop" : 1609404464041,
        "duration" : 5
      },
      "status" : "broken",
      "statusMessage" : "TypeError: render_body() takes 1 positional argument but 2 were given\n",
      "statusTrace" : "  File \"D:\\python3.9\\lib\\site-packages\\allure_commons\\_allure.py\", line 157, in impl\n    return func(*a, **kw)\n  File \"E:\\python_work\\auto_interface\\V1.0.1\\test_case\\test_case.py\", line 87, in buildHeaders\n    return json.loads(self.replace(headers)) if headers else {}\n  File \"E:\\python_work\\auto_interface\\V1.0.1\\test_case\\test_case.py\", line 26, in replace\n    return t.render(self._enriment)\n  File \"D:\\python3.9\\lib\\site-packages\\mako\\template.py\", line 476, in render\n    return runtime._render(self, self.callable_, args, data)\n  File \"D:\\python3.9\\lib\\site-packages\\mako\\runtime.py\", line 878, in _render\n    _render_context(\n  File \"D:\\python3.9\\lib\\site-packages\\mako\\runtime.py\", line 920, in _render_context\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n  File \"D:\\python3.9\\lib\\site-packages\\mako\\runtime.py\", line 947, in _exec_template\n    callable_(context, *args, **kwargs)\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "case",
        "value" : "{'case_number': 'T002', 'case_moudle': '登录模块', 'case_fun': '用户登录', 'case_name': '错误密码登录', 'case_desc': '', 'case_url': 'http://admin-api.macrozheng.com', 'case_controller': '/admin/login', 'pattern': 'POST', 'headers': '{\\n\"Content-Type\":\"application/json\"\\n        }', 'param': '{\\n            \"username\": \"admin\",\\n            \"password\": \"macro12311\"\\n        }', 'result': 'message', 'expect': '密码不正确', 'trust_result': '{\"code\":200,\"message\":\"操作成功\",\"data\":{\"tokenHead\":\"Bearer \",\"token\":\"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImNyZWF0ZWQiOjE2MDkzNzY2MzEwMDUsImV4cCI6MTYwOTk4MTQzMX0.5vVhI9KN6D16wbr_uA0NiucCj-Rf9Kc0x174aiGF9rKr4uBCxXjUDRVQls4AQoVE153ChpfIRLNXLOAx0H-fuA\"}}', 'floor': ''}"
      } ],
      "hasContent" : true,
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "hasContent" : true,
    "stepsCount" : 2,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "feature",
    "value" : "登录模块"
  }, {
    "name" : "story",
    "value" : "用户登录"
  }, {
    "name" : "parentSuite",
    "value" : "test_case"
  }, {
    "name" : "suite",
    "value" : "test_case"
  }, {
    "name" : "subSuite",
    "value" : "TestCase"
  }, {
    "name" : "host",
    "value" : "LAPTOP-TBMD39IH"
  }, {
    "name" : "thread",
    "value" : "25724-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "test_case.test_case"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : true,
  "retry" : true,
  "extra" : {
    "categories" : [ ],
    "tags" : [ ]
  },
  "source" : "ab5dface90b8673.json",
  "parameterValues" : [ ]
}